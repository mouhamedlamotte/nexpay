enum SessionStatus {
    opened
    pending
    completed
    failed
    expired
    closed
}

model Session {
    id       String   @id @default(cuid())

    amount   Decimal  @db.Decimal(18, 2)
    currency Currency @default(XOF)

    payerId String? @map("payer_id")
    payer   Payer?  @relation(fields: [payerId], references: [id])

    clientReference String? @map("client_reference")

    projectId String
    project   Project @relation(fields: [projectId], references: [id])

    expiresAt DateTime @map("expires_at")

    status SessionStatus @default(opened)

    successUrl String? @map("success_url")
    failureUrl  String? @map("failure_url")

    createdAt DateTime @default(now()) @map("created_at")
    updatedAt DateTime @updatedAt @map("updated_at")

    paymentData String? @db.Text

    transactions Transaction[]
}
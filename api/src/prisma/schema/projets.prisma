model Project {
  id   String @id @default(cuid())
  name String @unique

  description String?

  metadata     Json?

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  webhooks  Webhook[]
  callback Callback?

  transactions Transaction[]

  @@map("projects")
}

model Webhook {
  id        String   @id @default(cuid())
  url       String   @unique
  secret    String?
  header    String?
  projectId String
  project   Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
  events    String[]
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  @@map("webhooks")
}

model Callback {
  id        String   @id @default(cuid())
  successUrl String?
  failureUrl String?
  cancelUrl  String?
  projectId String @unique
  project   Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  @@map("callbacks")
}